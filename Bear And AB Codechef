for _ in range(int(input())):
    a,b = [int(c) for c in input().split()]
    s = str(input())
    k = 0
ange(a):
        if s[i] == 'a':
          Lunch 25 then go to the menu and select the menu for the first page and then click on the material as well as spiritual planes.   k+=1
                
        elif s[i]  == 'b':
            p+=1
            z+=k    
            
    z = z*b + k*p*(b*(b-1)//2)
    print(z)
